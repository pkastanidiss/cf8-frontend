<div class="note-container">
  <div class="note-card shadow">
    
    <div class="note-header text-center">
      <h2 class="text-primary fw-bold">Δημιουργία Νέας Σημείωσης</h2>
      <p class="text-muted small">
        Μοιραστείτε τις σημειώσεις σας <b>εδώ</b>!
      </p>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="note-form">
      
      <div class="form-field-wrapper">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Τίτλος</mat-label>
          <input matInput formControlName="title" placeholder="Εισάγετε τίτλο...">
          <mat-error *ngIf="form.get('title')?.invalid">Ο τίτλος είναι απαραίτητος</mat-error>
        </mat-form-field>
      </div>

      <div class="form-field-wrapper">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Επιστημονικός Κλάδος</mat-label>
          <mat-select formControlName="category">
            @for (field of categories; track field) {
              <mat-option [value]="field">{{field}}</mat-option>
            }
          </mat-select>
          <mat-error *ngIf="form.get('category')?.invalid">Παρακαλώ επιλέξτε έναν κλάδο</mat-error>
        </mat-form-field>
      </div>

      <div class="form-field-wrapper">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Περιεχόμενο</mat-label>
          <textarea matInput formControlName="content" rows="10" placeholder="Γράψτε το κείμενό σας εδώ..."></textarea>
          <mat-error *ngIf="form.get('content')?.invalid">Το περιεχόμενο δεν μπορεί να είναι κενό</mat-error>
        </mat-form-field>
      </div>

      <div class="note-actions">
        <button mat-stroked-button type="button" (click)="form.reset()" class="btn-clear">
          Καθαρισμός
        </button>
        <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid" class="btn-submit">
          Δημοσίευση
        </button>
      </div>

      <div *ngIf="status.message" [ngClass]="status.success ? 'alert-success' : 'alert-danger'" class="status-msg">
        {{ status.message }}
      </div>
      
    </form>
  </div>
</div>